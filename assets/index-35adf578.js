import{ag as Q,aa as h,a8 as l,m as _,q as F,H as o,B as s,t as c,F as d,a5 as X,G as Y,W as Z,A as k,E as T,L as $,T as ee,D as te,ah as oe,ai as ne,ae as se,aj as re}from"./vue-vendor-883c323d.js";import{M as p,O as le,P as ie,Q as ae,R as ce,S as de,T as ue,U as me,V as pe,W as he,X as A,s as V,Y as fe,Z as _e}from"./element-plus-01463170.js";import{B as we,J as ge}from"./ethers-86161a64.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))f(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&f(i)}).observe(document,{childList:!0,subtree:!0});function u(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function f(n){if(n.ep)return;n.ep=!0;const r=u(n);fetch(n.href,r)}})();const Re=Q("wallet",{state:()=>({account:null,provider:null,signer:null,chainId:null,isConnected:!1}),actions:{async init(){if(window.ethereum)try{(await window.ethereum.request({method:"eth_accounts"})).length>0&&await this.connect(),window.ethereum.on("accountsChanged",e=>{e.length===0?this.disconnect():this.account=e[0]}),window.ethereum.on("chainChanged",()=>{window.location.reload()})}catch(t){console.error("Failed to init wallet:",t)}},async connect(){if(!window.ethereum)throw new Error("Please install MetaMask");try{const t=new we(window.ethereum),e=await t.send("eth_requestAccounts",[]),u=await t.getSigner(),f=await t.getNetwork();this.provider=h(t),this.signer=h(u),this.account=e[0],this.chainId=f.chainId,this.isConnected=!0,this.chainId!==8453n&&this.chainId!==84532n&&console.warn("Please switch to Base network")}catch(t){throw console.error("Failed to connect wallet:",t),t}},disconnect(){this.account=null,this.provider=null,this.signer=null,this.chainId=null,this.isConnected=!1},async switchToBase(){try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x2105"}]})}catch(t){if(t.code===4902)try{await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:"0x2105",chainName:"Base",nativeCurrency:{name:"Ethereum",symbol:"ETH",decimals:18},rpcUrls:["https://mainnet.base.org"],blockExplorerUrls:["https://basescan.org"]}]})}catch(e){console.error("Failed to add Base network:",e)}}},checkLogin(t){return this.isConnected?!0:(p.warning("Please connect wallet first"),!1)}}});let B=null;const P={kIsMainnet:!1,kPullGasPriceCd:6e4,InscribeEstimateGas:{kInline:500000n,kOneBatchData:25000000n,kDeployToken:1000000n,kMintToken:1000000n},ownerDict:{},GetRPCUrl:function(){const t=localStorage.getItem("nowRpc");return t&&t!=0?t:this.kIsMainnet?"https://mainnet.base.org":"https://sepolia.base.org"},SetPrefRPCUrl(t){localStorage.setItem("nowRpc",t)},getExplorerBaseUrl:function(){return this.kIsMainnet?"https://basescan.org":"https://sepolia.basescan.org"},GetCurInscribingBigDataInscriptionId:function(){return B},markCurInscribingBigDataInscriptionId:function(t){B=t},isAddressEqual(t,e){return!t||!e?!1:t.toLowerCase()===e.toLowerCase()}};const Ce=(t,e)=>{const u=t.__vccOpts||t;for(const[f,n]of e)u[f]=n;return u},ye={name:"App",data(){return{Search:h(le),Moon:h(ie),Sunny:h(ae),ArrowDown:h(ce),Connection:h(de),Check:h(ue),Delete:h(me),Plus:h(pe),searchId:"",isDark:!1,currentRpc:"",rpcList:[{name:"Base Sepolia",url:"https://sepolia.base.org"},{name:"Sepolia Public RPC",url:"https://base-sepolia.publicnode.com"},{name:"dRPC",url:"https://base-sepolia.drpc.org"}],showAddRpcDialog:!1,newRpcForm:{name:"",url:""},addingRpc:!1}},computed:{walletStore(){return Re()},account(){return this.walletStore.account},shortAddress(){return this.account?`${this.account.slice(0,4)}...${this.account.slice(-3)}`:""},activeMenu(){return this.$route.path}},mounted(){localStorage.getItem("theme")==="dark"&&(this.isDark=!0,document.documentElement.classList.add("dark")),this.loadRpcSettings(),this.walletStore.init()},methods:{goToHome(){this.$router.push("/")},loadRpcSettings(){const t=localStorage.getItem("customRpcs");if(t)try{const e=JSON.parse(t);this.rpcList.push(...e)}catch(e){console.error("Failed to load custom RPCs:",e)}this.currentRpc=P.GetRPCUrl()},saveCustomRpcs(){const t=this.rpcList.slice(3);localStorage.setItem("customRpcs",JSON.stringify(t))},handleRpcCommand(t){t==="add"?(this.showAddRpcDialog=!0,this.newRpcForm={name:"",url:""}):t.action==="select"&&this.switchRpc(t.url)},async switchRpc(t){this.currentRpc=t,P.SetPrefRPCUrl(t),p.success("RPC switched successfully"),setTimeout(()=>{window.location.reload()},500)},async removeRpc(t){try{await he.confirm("Are you sure you want to remove this RPC node?","Confirm",{confirmButtonText:"Remove",cancelButtonText:"Cancel",type:"warning"});const e=this.rpcList[t];this.rpcList.splice(t,1),this.saveCustomRpcs(),this.currentRpc===e.url?(P.SetPrefRPCUrl(0),this.switchRpc(P.GetRPCUrl())):p.success("RPC node removed")}catch{}},async addCustomRpc(){if(!this.newRpcForm.name||!this.newRpcForm.url){p.warning("Please fill in all fields");return}if(!this.newRpcForm.url.startsWith("http://")&&!this.newRpcForm.url.startsWith("https://")){p.error("RPC URL must start with http:// or https://");return}if(this.rpcList.some(t=>t.url===this.newRpcForm.url)){p.warning("This RPC URL already exists");return}this.addingRpc=!0;try{await new ge(this.newRpcForm.url).getNetwork(),this.rpcList.push({name:this.newRpcForm.name,url:this.newRpcForm.url}),this.saveCustomRpcs(),this.showAddRpcDialog=!1,this.switchRpc(this.newRpcForm.url)}catch(t){console.error("RPC test failed:",t),p.error("Failed to connect to this RPC node. Please check the URL.")}finally{this.addingRpc=!1}},async connectWallet(){try{await this.walletStore.connect(),p.success("Wallet connected successfully")}catch(t){console.error("Failed to connect wallet:",t),p.error("Failed to connect wallet")}},handleCommand(t){t==="disconnect"&&(this.walletStore.disconnect(),p.success("Wallet disconnected"))},handleSearch(){this.searchId&&(this.$router.push(`/detail/${this.searchId}`),this.searchId="")},toggleTheme(){this.isDark?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))}}},ke={class:"header-content"},ve={class:"menu-container"},Pe={class:"header-actions"},Ie={class:"rpc-item"},Ee={class:"rpc-info"},Se={class:"rpc-name"},be={class:"add-rpc-item"};function xe(t,e,u,f,n,r){const i=l("el-menu-item"),I=l("el-menu"),g=l("el-button"),m=l("el-input"),R=l("el-switch"),C=l("Connection"),y=l("el-icon"),b=l("arrow-down"),U=l("Check"),M=l("Delete"),N=l("el-tooltip"),E=l("el-dropdown-item"),W=l("Plus"),x=l("el-dropdown-menu"),L=l("el-dropdown"),q=l("el-header"),G=l("router-view"),H=l("el-main"),J=l("el-footer"),K=l("el-container"),D=l("el-form-item"),j=l("el-form"),z=l("el-dialog");return _(),F("div",{id:"app",class:V({dark:n.isDark})},[o(K,{class:"app-container"},{default:s(()=>[o(q,{class:"app-header"},{default:s(()=>[c("div",ke,[c("div",{class:"logo",onClick:e[0]||(e[0]=(...a)=>r.goToHome&&r.goToHome(...a))},[...e[7]||(e[7]=[c("svg",{class:"base-icon",viewBox:"0 0 64 64",xmlns:"http://www.w3.org/2000/svg"},[c("rect",{x:"16",y:"16",width:"32",height:"32",rx:"4",fill:"none",stroke:"#0052FF","stroke-width":"4"}),c("line",{x1:"24",y1:"28",x2:"40",y2:"28",stroke:"#0052FF","stroke-width":"3"}),c("line",{x1:"24",y1:"32",x2:"36",y2:"32",stroke:"#0052FF","stroke-width":"3"}),c("line",{x1:"24",y1:"36",x2:"32",y2:"36",stroke:"#0052FF","stroke-width":"3"})],-1),c("h2",null,"Base Inscription",-1)])]),c("div",ve,[o(I,{"default-active":r.activeMenu,mode:"horizontal",router:!0,class:"nav-menu",ellipsis:!1},{default:s(()=>[o(i,{index:"/"},{default:s(()=>[...e[8]||(e[8]=[d("Main",-1)])]),_:1}),o(i,{index:"/inscribe"},{default:s(()=>[...e[9]||(e[9]=[d("Inscribe",-1)])]),_:1}),o(i,{index:"/tokens"},{default:s(()=>[...e[10]||(e[10]=[d("Tokens",-1)])]),_:1}),o(i,{index:"/collections"},{default:s(()=>[...e[11]||(e[11]=[d("Collections",-1)])]),_:1}),o(i,{index:"/text-finder"},{default:s(()=>[...e[12]||(e[12]=[d("Text Finder",-1)])]),_:1}),o(i,{index:"/tools"},{default:s(()=>[...e[13]||(e[13]=[d("Tools",-1)])]),_:1}),o(i,{index:"/about"},{default:s(()=>[...e[14]||(e[14]=[d("About",-1)])]),_:1})]),_:1},8,["default-active"])]),c("div",Pe,[o(m,{modelValue:n.searchId,"onUpdate:modelValue":e[1]||(e[1]=a=>n.searchId=a),placeholder:"search token id",class:"search-input",onKeyup:X(r.handleSearch,["enter"])},{append:s(()=>[o(g,{icon:n.Search,onClick:r.handleSearch},null,8,["icon","onClick"])]),_:1},8,["modelValue","onKeyup"]),o(R,{modelValue:n.isDark,"onUpdate:modelValue":e[2]||(e[2]=a=>n.isDark=a),"active-icon":n.Moon,"inactive-icon":n.Sunny,onChange:r.toggleTheme,class:"theme-switch"},null,8,["modelValue","active-icon","inactive-icon","onChange"]),o(L,{trigger:"click",onCommand:r.handleRpcCommand,class:"rpc-selector"},{dropdown:s(()=>[o(x,null,{default:s(()=>[e[17]||(e[17]=c("div",{class:"rpc-dropdown-header"},"Select RPC Node",-1)),(_(!0),F(Y,null,Z(n.rpcList,(a,S)=>(_(),k(E,{key:S,command:{action:"select",url:a.url},class:V({"is-active":a.url===n.currentRpc})},{default:s(()=>[o(N,{content:a.url,placement:"left","show-after":300},{default:s(()=>[c("div",Ie,[c("div",Ee,[c("span",Se,A(a.name),1),a.url===n.currentRpc?(_(),k(y,{key:0,class:"check-icon"},{default:s(()=>[o(U)]),_:1})):T("",!0)]),S>=3?(_(),k(y,{key:0,class:"delete-icon",onClick:$(Be=>r.removeRpc(S),["stop"])},{default:s(()=>[o(M)]),_:1},8,["onClick"])):T("",!0)])]),_:2},1032,["content"])]),_:2},1032,["command","class"]))),128)),o(E,{divided:"",command:"add"},{default:s(()=>[c("div",be,[o(y,null,{default:s(()=>[o(W)]),_:1}),e[16]||(e[16]=c("span",null,"Add Custom RPC",-1))])]),_:1})]),_:1})]),default:s(()=>[o(g,{type:"default"},{default:s(()=>[o(y,null,{default:s(()=>[o(C)]),_:1}),e[15]||(e[15]=c("span",{class:"rpc-label"},"RPC",-1)),o(y,{class:"el-icon--right"},{default:s(()=>[o(b)]),_:1})]),_:1})]),_:1},8,["onCommand"]),r.account?(_(),k(L,{key:1,onCommand:r.handleCommand},{dropdown:s(()=>[o(x,null,{default:s(()=>[o(E,{command:"disconnect"},{default:s(()=>[...e[19]||(e[19]=[d("Sign Out",-1)])]),_:1})]),_:1})]),default:s(()=>[o(g,{type:"primary",class:"address-button"},{default:s(()=>[d(A(r.shortAddress)+" ",1),o(y,{class:"el-icon--right"},{default:s(()=>[o(b)]),_:1})]),_:1})]),_:1},8,["onCommand"])):(_(),k(g,{key:0,type:"primary",onClick:r.connectWallet},{default:s(()=>[...e[18]||(e[18]=[d(" Sign In ",-1)])]),_:1},8,["onClick"]))])])]),_:1}),o(H,{class:"app-main"},{default:s(()=>[o(G,null,{default:s(({Component:a})=>[o(ee,{name:"fade",mode:"out-in"},{default:s(()=>[(_(),k(te(a)))]),_:2},1024)]),_:1})]),_:1}),o(J,{class:"app-footer"},{default:s(()=>[...e[20]||(e[20]=[c("p",null,"Â© 2025 Base Inscription. All rights reserved.",-1)])]),_:1})]),_:1}),o(z,{modelValue:n.showAddRpcDialog,"onUpdate:modelValue":e[6]||(e[6]=a=>n.showAddRpcDialog=a),title:"Add Custom RPC Node",width:"500px","close-on-click-modal":!1},{footer:s(()=>[o(g,{onClick:e[5]||(e[5]=a=>n.showAddRpcDialog=!1)},{default:s(()=>[...e[21]||(e[21]=[d("Cancel",-1)])]),_:1}),o(g,{type:"primary",onClick:r.addCustomRpc,loading:n.addingRpc},{default:s(()=>[...e[22]||(e[22]=[d(" Add RPC ",-1)])]),_:1},8,["onClick","loading"])]),default:s(()=>[o(j,{model:n.newRpcForm,"label-width":"100px"},{default:s(()=>[o(D,{label:"Name",required:""},{default:s(()=>[o(m,{modelValue:n.newRpcForm.name,"onUpdate:modelValue":e[3]||(e[3]=a=>n.newRpcForm.name=a),placeholder:"e.g., My Custom RPC",maxlength:"30"},null,8,["modelValue"])]),_:1}),o(D,{label:"RPC URL",required:""},{default:s(()=>[o(m,{modelValue:n.newRpcForm.url,"onUpdate:modelValue":e[4]||(e[4]=a=>n.newRpcForm.url=a),placeholder:"https://..."},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])],2)}const Le=Ce(ye,[["render",xe]]),De="modulepreload",Fe=function(t){return"/"+t},O={},w=function(e,u,f){if(!u||u.length===0)return e();const n=document.getElementsByTagName("link");return Promise.all(u.map(r=>{if(r=Fe(r),r in O)return;O[r]=!0;const i=r.endsWith(".css"),I=i?'[rel="stylesheet"]':"";if(!!f)for(let R=n.length-1;R>=0;R--){const C=n[R];if(C.href===r&&(!i||C.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${I}`))return;const m=document.createElement("link");if(m.rel=i?"stylesheet":De,i||(m.as="script",m.crossOrigin=""),m.href=r,document.head.appendChild(m),i)return new Promise((R,C)=>{m.addEventListener("load",R),m.addEventListener("error",()=>C(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>e()).catch(r=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=r,window.dispatchEvent(i),!i.defaultPrevented)throw r})},Te=[{path:"/",name:"Main",component:()=>w(()=>import("./MainPage-68bb40c9.js"),["assets/MainPage-68bb40c9.js","assets/element-plus-01463170.js","assets/vue-vendor-883c323d.js","assets/ChainHelper-37f66626.js","assets/abi-d39c13d1.js","assets/ethers-86161a64.js","assets/helpers-02a4fcea.js","assets/indexedDBCache-f3f71aef.js","assets/MainPage-d39219d1.css"])},{path:"/inscribe",name:"Inscribe",component:()=>w(()=>import("./InscribePage-522c65df.js"),["assets/InscribePage-522c65df.js","assets/vue-vendor-883c323d.js","assets/element-plus-01463170.js","assets/OrbitControls-77b6d84d.js","assets/ChainHelper-37f66626.js","assets/abi-d39c13d1.js","assets/ethers-86161a64.js","assets/helpers-02a4fcea.js","assets/InscribePage-cc609a20.css"])},{path:"/tokens",name:"Tokens",component:()=>w(()=>import("./TokensPage-4da45d1f.js"),["assets/TokensPage-4da45d1f.js","assets/vue-vendor-883c323d.js","assets/element-plus-01463170.js","assets/ChainHelper-37f66626.js","assets/abi-d39c13d1.js","assets/ethers-86161a64.js","assets/helpers-02a4fcea.js","assets/TokensPage-295402a5.css"])},{path:"/collections",name:"Collections",component:()=>w(()=>import("./CollectionPage-2eca0f54.js"),["assets/CollectionPage-2eca0f54.js","assets/element-plus-01463170.js","assets/vue-vendor-883c323d.js","assets/ethers-86161a64.js","assets/CollectionPage-2256cfd2.css"])},{path:"/text-finder",name:"TextIndexer",component:()=>w(()=>import("./TextIndexerPage-0206da61.js"),["assets/TextIndexerPage-0206da61.js","assets/element-plus-01463170.js","assets/vue-vendor-883c323d.js","assets/ChainHelper-37f66626.js","assets/abi-d39c13d1.js","assets/ethers-86161a64.js","assets/TextIndexerPage-1a202fe7.css"])},{path:"/tools",name:"Tools",component:()=>w(()=>import("./ToolsPage-4e5277ed.js"),["assets/ToolsPage-4e5277ed.js","assets/element-plus-01463170.js","assets/vue-vendor-883c323d.js","assets/ChainHelper-37f66626.js","assets/abi-d39c13d1.js","assets/ethers-86161a64.js","assets/helpers-02a4fcea.js","assets/indexedDBCache-f3f71aef.js","assets/ToolsPage-fcfd968a.css"])},{path:"/about",name:"About",component:()=>w(()=>import("./AboutPage-d4f29134.js"),["assets/AboutPage-d4f29134.js","assets/element-plus-01463170.js","assets/vue-vendor-883c323d.js","assets/abi-d39c13d1.js","assets/ethers-86161a64.js","assets/AboutPage-60159606.css"])},{path:"/detail/:id",name:"Detail",component:()=>w(()=>import("./DetailPage-aa199772.js"),["assets/DetailPage-aa199772.js","assets/OrbitControls-77b6d84d.js","assets/element-plus-01463170.js","assets/vue-vendor-883c323d.js","assets/ChainHelper-37f66626.js","assets/abi-d39c13d1.js","assets/ethers-86161a64.js","assets/indexedDBCache-f3f71aef.js","assets/helpers-02a4fcea.js","assets/DetailPage-3839714a.css"])}],Ae=oe({history:ne(),routes:Te});const v=se(Le),Ve=re();for(const[t,e]of Object.entries(fe))v.component(t,e);v.use(Ve);v.use(Ae);v.use(_e);v.mount("#app");export{P as G,Ce as _,Re as u};
